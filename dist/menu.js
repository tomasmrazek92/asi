"use strict";(()=>{$(document).ready(()=>{gsap.registerPlugin(ScrollTrigger);var r=!1,d=!1;let i=".navbar_wrapper",_=".nav_links",C=".nav_links-inner",t=".nav_link",T=".nav_dropdown",a=" .nav_dropdown-menu-box",y="[nav-description]",k=".nav_dropdown-menu_description p",s=".nav_ham";function x(){return gsap.timeline({paused:!0,onComplete:()=>{f()},onReverseComplete:()=>{$(i).removeClass("open")}}).fromTo(_,{display:"none"},{display:"flex"},"<").fromTo(C,{yPercent:-100},{yPercent:0},"<")}let p,f=()=>{r?$("html, body").scrollTop(p).removeClass("overflow-hidden"):(p=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),r=!r},l,m;ScrollTrigger.matchMedia({"(max-width: 991px)":function(){l=x(),m=H()}}),$(s).on("click",()=>q()),window.onscroll=()=>{let e=$(i).height();$(i)&&(window.scrollY>e/2?$(i).addClass("pinned"):$(i).removeClass("pinned"))};function b(e,n){let o=e.find("> .nav_link"),c=e.find(a);$(t).add(a).removeClass("w--open"),!d&&!n?(d=!0,o.add(c).addClass("w--open"),$(i).add("body").addClass("open")):n||o.add(c).addClass("w--open"),gsap.timeline().fromTo($(e).find(".nav_dropdown-list"),{css:{minHeight:"25rem"}},{css:{minHeight:"28rem"},duration:.75,ease:Power2.easeOut})}$(T).on("click",function(){b($(this),$(this).hasClass("w--open"))});function u(){let e=$(a).find(".nav_dropdown-list:visible"),n=350;$(window).width()>=992?($(e).animate({opacity:0,minHeight:"25rem"},n,function(){$(e).attr("style","")}).css("overflow","visible"),setTimeout(function(){d=!1,$(t).add(a).removeClass("w--open"),$(i).add("body").removeClass("open")},n/2)):$(t).add(a).removeClass("w--open")}$(document).on("click",function(e){$(e.target).closest(".nav").length||u()}),$(".w-dropdown-toggle").on("click",D),$(".nav_dropdown-menu_links").find(t).on("mouseenter",function(){v($(this))});function q(){l&&P()}function P(){r?(l.reverse(),m.reverse(),u(),f()):(l.play(),m.play(),$(i).addClass("open"))}function H(){var e=new TimelineMax({paused:!0});return e.fromTo($(s).find(".nav_ham-line").eq(0),.2,{y:"0"},{y:"4"}).fromTo($(s).find(".nav_ham-line").eq(2),.2,{y:"0"},{y:"-4"},"<").fromTo($(s).find(".nav_ham-line").eq(1),.2,{xPercent:0,opacity:1},{xPercent:100,opacity:0},"<").fromTo($(s).find(".nav_ham-line").eq(0),.2,{rotationZ:0},{rotationZ:45}).fromTo($(s).find(".nav_ham-line").eq(2),.2,{rotationZ:0},{rotationZ:-45},"<"),e}function v(e,n){var o=$(e),c=o.index(),M=o.children("div").eq(0).children().eq(0).text(),w=o.closest(".nav_dropdown-menu"),h=w.find(k),g=w.find(y),O=h.eq(c);$(t).removeClass("active"),o.addClass("active"),$(h).hide(),g.text(M),$(O,g).fadeTo("fast",1)}function D(){let e=$(this).closest(".w-dropdown").find(".nav_dropdown-menu_links").find(t),n=e.filter(".w--current"),o=e.eq(0);console.log(n),$(window).width()>=992?n.length===0?(console.log(o),o.addClass("active"),v(o)):(n.addClass("active"),v(n)):(o.removeClass("active"),n.removeClass("active")),L($(this))}let L=e=>d?gsap.timeline().to($(e).closest(".w-dropdown").find(".nav_dropdown-list"),{css:{minHeight:"25rem"}},{css:{minHeight:"28rem"},duration:.75,ease:Power2.easeOut}):gsap.timeline().fromTo($(e).closest(".w-dropdown").find(".nav_dropdown-list"),{css:{minHeight:"25rem"}},{css:{minHeight:"28rem"},duration:.75,ease:Power2.easeOut})});})();
