"use strict";(()=>{$(document).ready(()=>{gsap.registerPlugin(ScrollTrigger);var l=!1,c=!1;let i=".navbar_wrapper",_=".nav_links",y=".nav_links-inner",a=".nav_link",p=".nav_dropdown",s=" .nav_dropdown-menu-box",T="[nav-description]",k=".nav_dropdown-menu_description p",t=".nav_ham";function x(){return gsap.timeline({paused:!0,onComplete:()=>{u()},onReverseComplete:()=>{$(i).removeClass("open")}}).fromTo(_,{display:"none"},{display:"flex"},"<").fromTo(y,{yPercent:-100},{yPercent:0},"<")}let f,u=()=>{l?$("html, body").scrollTop(f).removeClass("overflow-hidden"):(f=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),l=!l},d,v;ScrollTrigger.matchMedia({"(max-width: 991px)":function(){d=x(),v=P()}}),$(t).on("click",()=>q()),window.onscroll=()=>{let e=$(i).height();$(i)&&(window.scrollY>e/2?$(i).addClass("pinned"):$(i).removeClass("pinned"))};function b(e,o){let n=e.find("> .nav_link"),r=e.find(s);$(a).add(s).removeClass("w--open"),!c&&!o?(c=!0,n.add(r).addClass("w--open"),$(i).add("body").addClass("open")):o||n.add(r).addClass("w--open"),gsap.timeline().fromTo($(e).find(".nav_dropdown-list"),{css:{minHeight:"25rem"}},{css:{minHeight:"28rem"},duration:.75,ease:Power2.easeOut})}$(p).on("click",function(){b($(this),$(this).hasClass("w--open"))});function w(){let e=$(s).find(".nav_dropdown-list:visible"),o=350;$(window).width()>=992?($(e).animate({opacity:0,minHeight:"25rem"},o,function(){$(e).attr("style","")}).css("overflow","visible"),setTimeout(function(){c=!1,$(a).add(s).removeClass("w--open"),$(i).add("body").removeClass("open")},o/2)):($(a).add(s).removeClass("w--open"),$("body").removeClass("open"))}$(document).on("click",function(e){$(e.target).closest(".nav").length||w()}),$(p).on("click",L),$(".nav_dropdown-menu_links").find(a).on("mouseenter",function(){m($(this))});function q(){d&&D()}function D(){l?(d.reverse(),v.reverse(),w(),u()):(d.play(),v.play(),$(i).addClass("open"))}function P(){var e=new TimelineMax({paused:!0});return e.fromTo($(t).find(".nav_ham-line").eq(0),.2,{y:"0"},{y:"4"}).fromTo($(t).find(".nav_ham-line").eq(2),.2,{y:"0"},{y:"-4"},"<").fromTo($(t).find(".nav_ham-line").eq(1),.2,{xPercent:0,opacity:1},{xPercent:100,opacity:0},"<").fromTo($(t).find(".nav_ham-line").eq(0),.2,{rotationZ:0},{rotationZ:45}).fromTo($(t).find(".nav_ham-line").eq(2),.2,{rotationZ:0},{rotationZ:-45},"<"),e}function m(e,o){var n=$(e),r=n.index(),M=n.children("div").eq(0).children().eq(0).text(),h=n.closest(".nav_dropdown-menu"),g=h.find(k),C=h.find(T),R=g.eq(r);$(a).removeClass("active"),n.addClass("active"),$(g).hide(),C.text(M),$(R,C).fadeTo("fast",1)}function L(){console.log("fire");let e=$(this).find(".nav_dropdown-menu_links").find(a),o=e.filter(".w--current"),n=e.eq(0);$(window).width()>=992?o.length===0?(console.log(n),n.addClass("active"),m(n)):(o.addClass("active"),m(o)):(n.removeClass("active"),o.removeClass("active"))}});})();
