"use strict";(()=>{$(document).ready(()=>{gsap.registerPlugin(ScrollTrigger);var o=!1,a=!1;let t=".navbar_wrapper",v=".nav_links",A=".nav_links-inner",l=".nav_link",d=".nav_dropdown",I=d+">"+l,c=" .nav_dropdown-menu-box",S="[nav-description]",P=".nav_dropdown-menu_description p",r=".nav_ham";function D(){return gsap.timeline({paused:!0,onComplete:()=>{h()},onReverseComplete:()=>{$(t).removeClass("open")}}).fromTo(v,{display:"none"},{display:"flex"},"<").fromTo(A,{yPercent:-100},{yPercent:0},"<")}let w,h=()=>{o?$("html, body").scrollTop(w).removeClass("overflow-hidden"):(w=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),o=!o},m,p;ScrollTrigger.matchMedia({"(max-width: 991px)":function(){m=D(),p=N()}}),$(r).on("click",()=>H()),window.onscroll=()=>{let e=$(t).height();$(t)&&(window.scrollY>e/2?$(t).addClass("pinned"):$(t).removeClass("pinned"))};function L(e,i){let n=e.closest(d).find("> .nav_link"),s=e.closest(d).find(c);$(l).add(c).removeClass("w--open"),!a&&!i?(a=!0,C(e),n.add(s).addClass("w--open"),$(t).add("body").addClass("open"),_(e)):i||(C(e),n.add(s).addClass("w--open"),_(e))}$(I).on("click",function(){L($(this),$(this).hasClass("w--open"))});function g(){let e=$(c).find(".nav_dropdown-list:visible"),i=350;$(window).width()>=992?($(e).animate({opacity:0,minHeight:"25rem"},i,function(){$(e).attr("style","")}).css("overflow","visible"),setTimeout(function(){a=!1,$(l).add(c).removeClass("w--open"),$(t).add("body").removeClass("open")},i/2)):($(l).add(c).removeClass("w--open"),$("body").removeClass("open"))}$(document).on("click",function(e){$(e.target).closest(".nav").length||g()}),$(".nav_dropdown-menu_links").find(l).on("mouseenter",function(){u($(this))});function H(){m&&M()}function M(){o?(m.reverse(),p.reverse(),g(),h()):(m.play(),p.play(),$(t).addClass("open"))}function N(){var e=new TimelineMax({paused:!0});return e.fromTo($(r).find(".nav_ham-line").eq(0),.2,{y:"0"},{y:"6"}).fromTo($(r).find(".nav_ham-line").eq(2),.2,{y:"0"},{y:"-6"},"<").fromTo($(r).find(".nav_ham-line").eq(1),.2,{xPercent:0,opacity:1},{xPercent:100,opacity:0},"<").fromTo($(r).find(".nav_ham-line").eq(0),.2,{rotationZ:0},{rotationZ:45}).fromTo($(r).find(".nav_ham-line").eq(2),.2,{rotationZ:0},{rotationZ:-45},"<"),e}function u(e,i){var n=$(e),s=n.index(),O=n.children("div").eq(0).children().eq(0).text(),y=n.closest(".nav_dropdown-menu"),T=y.find(P),k=y.find(S),R=T.eq(s);$(l).removeClass("active"),n.addClass("active"),$(T).hide(),k.text(O),$(R,k).fadeTo("fast",1)}function C(e){let i=$(e).closest(d).find(".nav_dropdown-menu_links").find(l),n=i.filter(".w--current"),s=i.eq(0);$(window).width()>=992?n.length===0?(console.log(s),s.addClass("active"),u(s)):(n.addClass("active"),u(n)):(s.removeClass("active"),n.removeClass("active"))}let _=e=>gsap.timeline().fromTo($(e).closest(d).find(".nav_dropdown-list"),{css:{minHeight:"25rem"}},{css:{minHeight:"28rem"},duration:.75,ease:Power2.easeOut})});var f=JSON.parse(localStorage.getItem("months"))||[],x=".collection_title",b=".collection-item_wrap";q();function q(){$(b).each(function(){let o=$(this).find(x).text();f.includes(o)&&$(this).addClass("done")})}function Z(o){var a=o.closest(b).find(x).text();f.includes(a)||(f.push(a),localStorage.setItem("months",JSON.stringify(f)),q())}window.fsAttributes=window.fsAttributes||[];window.fsAttributes.push(["cmsfilter",o=>{let[a]=o;a.listInstance.on("renderitems",t=>{$(t).each(function(){let v=$(this)[0].element;$(v).find(".collection-step-button").on("click",function(){Z($(this))})})})}]);})();
