{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/* eslint-disable @typescript-eslint/no-this-alias */\n\n// Initialize the auto video functionality\ngsap.registerPlugin(ScrollTrigger, Flip);\n\n// Global Scope\nvar isScrollDisabled = false;\n\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(context, args), wait);\n  };\n}\nfunction trggerExternalLinks() {\n  // Find all <a> tags in the document and look for external\n  var links = document.getElementsByTagName('a');\n\n  // Get the current domain\n  var currentDomain = window.location.hostname;\n\n  // Loop through each link\n  for (var i = 0; i < links.length; i++) {\n    var link = links[i];\n\n    // Get the link's domain\n    var linkDomain = link.hostname;\n\n    // Check if the link is an external link\n    if (linkDomain !== currentDomain) {\n      // Set the target attribute to \"_blank\"\n      link.setAttribute('target', '_blank');\n    }\n  }\n}\n\n// #region nav\nfunction scrollNav() {\n  // Variables\n  const navbar = $('.nav');\n  let lastScroll = 0;\n\n  // Scroll handler with debouncing\n  const handleScroll = debounce(() => {\n    const currentScroll = window.scrollY;\n\n    const checkOpenState = navbar.find('.w--open').length >= 1;\n    if (currentScroll > lastScroll && currentScroll > 50 && !isScrollDisabled && !checkOpenState) {\n      // Scroll down - hide navbar\n      gsap.to(navbar, { y: '-200%', duration: 1, ease: 'power2.out' });\n    } else if (currentScroll < lastScroll) {\n      // Scroll up - show navbar\n      gsap.to(navbar, { y: '0%', duration: 1, ease: 'power2.out' });\n    }\n\n    lastScroll = currentScroll;\n  }, 1);\n\n  // Attach scroll listener\n  window.addEventListener('scroll', handleScroll);\n}\nfunction scrollDisabler() {\n  function toggleScroll() {\n    if (isScrollDisabled) {\n      isScrollDisabled = false;\n      lenis.start();\n    } else {\n      isScrollDisabled = true;\n      lenis.stop();\n    }\n  }\n\n  // Click Event\n  $('[scroll=\"toggle\"]').on('click', toggleScroll);\n\n  // Run on resize\n  const breakpoints = [991, 767, 479];\n  let lastWidth = window.innerWidth;\n\n  // Function to check breakpoints on window resize\n  function checkBreakpoints() {\n    const currentWidth = window.innerWidth;\n\n    breakpoints.forEach((breakpoint) => {\n      if (isScrollDisabled) {\n        if (\n          (lastWidth <= breakpoint && currentWidth > breakpoint) ||\n          (lastWidth >= breakpoint && currentWidth < breakpoint)\n        ) {\n          lenis.start();\n        }\n      }\n    });\n\n    // Update lastWidth for the next call\n    lastWidth = currentWidth;\n  }\n  window.addEventListener('resize', checkBreakpoints);\n}\n\n// #endregion\n\n// #region Lenis\n\nfunction initLenis() {\n  let lenis;\n  if (Webflow.env('editor') === undefined) {\n    lenis = new Lenis({\n      lerp: 0.075,\n      wheelMultiplier: 0.7,\n      gestureOrientation: 'vertical',\n      normalizeWheel: false,\n      smoothTouch: false,\n    });\n    function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n  }\n  $('[data-lenis-start]').on('click', function () {\n    lenis.start();\n  });\n  $('[data-lenis-stop]').on('click', function () {\n    lenis.stop();\n  });\n  $('[data-lenis-toggle]').on('click', function () {\n    $(this).toggleClass('stop-scroll');\n    if ($(this).hasClass('stop-scroll')) {\n      lenis.stop();\n    } else {\n      lenis.start();\n    }\n  });\n\n  // Watch for height changes in the body element\n  const { body } = document;\n\n  const observer = new ResizeObserver(() => {\n    console.log('resize');\n    lenis.resize();\n  });\n\n  // Start observing the body\n  observer.observe(body);\n\n  // Lenis animation loop\n  function raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n  }\n\n  requestAnimationFrame(raf);\n}\n\n// #endregion\n\n// #region dfCards\nfunction dfCards() {\n  let dfCardsTL;\n  let scrollTriggerInstance;\n\n  ScrollTrigger.defaults({\n    markers: true,\n    anticipatePin: 1,\n    ease: 'none',\n  });\n\n  function destroyScrollAnimation() {\n    if (dfCardsTL) {\n      dfCardsTL.kill(true);\n      dfCardsTL = null;\n    }\n\n    if (scrollTriggerInstance) {\n      scrollTriggerInstance.kill(true);\n      scrollTriggerInstance = null;\n    }\n\n    // Optional: Clear any inline styles added by GSAP\n    gsap.set('[data-gsap-clearProps]', { clearProps: 'all' });\n    gsap.set('[data-sticky-visual]', { clearProps: 'all' });\n    gsap.set('.pin-spacer', { clearProps: 'all' });\n  }\n\n  function initScrollAnimation() {\n    destroyScrollAnimation();\n\n    let dfCards = $('[data-sticky-visual=\"animated\"]').children();\n\n    if (!dfCards.length) {\n      return;\n    }\n\n    function setDynamicZIndex(selector) {\n      const elements = $(selector);\n      const maxZIndex = elements.length;\n\n      elements.each(function (index) {\n        $(this).css('z-index', maxZIndex - index);\n      });\n    }\n\n    function setDynamicGapTop() {\n      let windowHeight = $(window).height();\n      let distance = windowHeight - dfCards.eq(0).height();\n      let gap = distance / 2;\n      $('.sticky-header').css('margin-bottom', `-${gap}px`);\n      ScrollTrigger.refresh();\n    }\n\n    // Debounce function to limit resize calculations\n    function debounce(func, wait) {\n      let timeout;\n      return function executedFunction(...args) {\n        const later = () => {\n          clearTimeout(timeout);\n          func(...args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n      };\n    }\n\n    // Create debounced resize handler\n    const debouncedSetGap = debounce(setDynamicGapTop, 250);\n\n    // Add resize listener\n    $(window).on('resize.dynamicGap', debouncedSetGap);\n\n    // Init\n    gsap.set(dfCards, { position: 'absolute' });\n    setDynamicZIndex(dfCards);\n\n    const dfCardsTL = gsap.timeline({\n      scrollTrigger: {\n        trigger: '.sticky-section_list',\n        start: () => {\n          const firstLi = document.querySelector('.sticky-section_list li:first-child');\n          const firstLiRect = firstLi.getBoundingClientRect();\n          return `${firstLiRect.height / 2}px center`;\n        },\n        end: () => {\n          const lastLi = document.querySelector('.sticky-section_list li:last-child');\n          const lastLiRect = lastLi.getBoundingClientRect();\n          const lastLiCenter = $('.sticky-section_list').height() - lastLiRect.height / 2;\n          return `${lastLiCenter}px center`;\n        },\n        pin: '[data-sticky-visual=\"animated\"]',\n        scrub: true,\n        invalidateOnRefresh: true,\n        onLeave: () => {\n          const video = dfCards.eq(dfCards.length - 1).find('video')[0];\n          playVideo(video);\n        },\n      },\n    });\n\n    // Move the header\n    setDynamicGapTop();\n\n    // Main animation setup\n    dfCards.each(function (index) {\n      const nextVideo = index < dfCards.length - 1 ? dfCards.eq(index + 1).find('video')[0] : null;\n      let isPlaying = false;\n\n      if (index !== dfCards.length - 1) {\n        dfCardsTL.to($(this), {\n          ease: 'none',\n          clipPath: 'inset(0px 0px 100%)',\n          onUpdate: function () {\n            const progress = this.progress();\n\n            if (progress >= 0.5 && !isPlaying) {\n              isPlaying = true;\n              playVideo(nextVideo);\n            }\n          },\n        });\n      }\n    });\n\n    // Utility functions\n    const handleVideoPromise = (promise) => {\n      if (promise !== undefined) {\n        return promise.catch((err) => console.warn('Video operation error:', err));\n      }\n      return Promise.resolve();\n    };\n\n    const pauseAllVideos = () => {\n      const pausePromises = [];\n      dfCards.find('video').each(function () {\n        pausePromises.push(handleVideoPromise(this.pause()));\n      });\n      return Promise.all(pausePromises);\n    };\n\n    const playVideo = (video) => {\n      if (video) {\n        return handleVideoPromise(video.play());\n      }\n      return Promise.resolve();\n    };\n\n    // Clean up function\n    return function cleanup() {\n      $(window).off('resize.dynamicGap');\n    };\n  }\n\n  /***** GSAP Resize Handle *****/\n  let cleanupFunction;\n\n  ScrollTrigger.matchMedia({\n    // desktop\n    '(min-width: 992px)': function () {\n      // Store cleanup function\n      cleanupFunction = initScrollAnimation();\n    },\n    '(max-width: 991px)': function () {\n      // Clean up when leaving desktop breakpoint\n      if (cleanupFunction) {\n        cleanupFunction();\n        cleanupFunction = null;\n      }\n    },\n  });\n}\n// #endregion\n\n// Init\n$(document).ready(function () {\n  scrollNav();\n  scrollDisabler();\n  initLenis();\n  trggerExternalLinks();\n  dfCards();\n});\n"],
  "mappings": "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",
  "names": ["lenis", "raf", "dfCards", "debounce", "dfCardsTL"]
}
