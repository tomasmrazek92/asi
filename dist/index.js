"use strict";(()=>{function W(){"use strict";(()=>{var a="fs-attributes",d="autovideo",u="cmsattribute",l=async(...r)=>{var t;let s=[];for(let i of r){let e=await((t=window.fsAttributes[i])==null?void 0:t.loading);s.push(e)}return s},f=()=>{};function c(r,t,s,i){return r?(r.addEventListener(t,s,i),()=>r.removeEventListener(t,s,i)):f}function P(r,t,s){var i;let e=window.fsAttributes[r];return e.destroy=s||f,(i=e.resolve)==null||i.call(e,t),t}var x=`${a}-support`,q="https://cdn.jsdelivr.net/npm/@finsweet/attributes-support@1/support.js",C=async()=>{let{fsAttributes:r,location:t}=window,{host:s,searchParams:i}=new URL(t.href);r.support||(r.support={});let{support:e}=r;if(!s.includes("webflow.io")||!i.has(x))return!1;if(e.import)return e.import;try{e.import=new Promise((n,w)=>{let h=document.createElement("script");h.src=q,h.onload=()=>n(!0),h.onerror=w,document.head.append(h)})}catch{return!1}return e.import},I=r=>{let t=(i,e,n)=>{let w=r[i],{key:h,values:V}=w,b;if(!e)return`[${h}]`;let R=V==null?void 0:V[e];typeof R=="string"?b=R:b=R(n&&"instanceIndex"in n?n.instanceIndex:void 0);let T=n&&"caseInsensitive"in n&&n.caseInsensitive?"i":"";if(!(n!=null&&n.operator))return`[${h}="${b}"${T}]`;switch(n.operator){case"prefixed":return`[${h}^="${b}"${T}]`;case"suffixed":return`[${h}$="${b}"${T}]`;case"contains":return`[${h}*="${b}"${T}]`}};function s(i,e){let n=t("element",i,e),w=(e==null?void 0:e.scope)||document;return e!=null&&e.all?[...w.querySelectorAll(n)]:w.querySelector(n)}return[t,s]},m={preventLoad:{key:`${a}-preventload`},debugMode:{key:`${a}-debug`},src:{key:"src",values:{finsweet:"@finsweet/attributes"}},dev:{key:`${a}-dev`}},L,k;[L,k]=I(m);var o=r=>{let{currentScript:t}=document,s={};if(!t)return{attributes:s,preventsLoad:!1};let i={preventsLoad:typeof t.getAttribute(m.preventLoad.key)=="string",attributes:s};for(let e in r){let n=t.getAttribute(r[e]);i.attributes[e]=n}return i},p=({scriptAttributes:r,attributeKey:t,version:s,init:i})=>{var e;v(),(e=window.fsAttributes)[t]||(e[t]={});let{preventsLoad:n,attributes:w}=o(r),h=window.fsAttributes[t];h.version=s,h.init=i,n||(window.Webflow||(window.Webflow=[]),window.Webflow.push(()=>i(w)))},v=()=>{let r=y();if(window.fsAttributes&&!Array.isArray(window.fsAttributes)){S(window.fsAttributes,r);return}let t={cms:{},push(...s){var i,e;for(let[n,w]of s)(e=(i=this[n])==null?void 0:i.loading)==null||e.then(w)},destroy(){var s,i;for(let e of r)(i=(s=window.fsAttributes[e])==null?void 0:s.destroy)==null||i.call(s)}};S(t,r),E(t),window.fsAttributes=t,window.FsAttributes=window.fsAttributes,C()},y=()=>{let r=L("src","finsweet",{operator:"contains"}),t=L("dev");return[...document.querySelectorAll(`script${r}, script${t}`)].reduce((s,i)=>{var e;let n=i.getAttribute(m.dev.key)||((e=i.src.match(/[\w-. ]+(?=(\.js)$)/))==null?void 0:e[0]);return n&&!s.includes(n)&&s.push(n),s},[])},S=(r,t)=>{for(let s of t){if(r[s])continue;r[s]={};let i=r[s];i.loading=new Promise(e=>{i.resolve=n=>{e(n),delete i.resolve}})}},E=r=>{let t=Array.isArray(window.fsAttributes)?window.fsAttributes:[];r.push(...t)},z="1.5.0",F=async()=>{await l(u);let r=document.querySelectorAll("video");if(!r.length)return;let t=new Map,s=new IntersectionObserver(e=>{for(let{target:n,isIntersecting:w}of e)n instanceof HTMLVideoElement&&!n.hasAttribute("data-exclude-autovideo")&&!n.closest("[data-exclude-autovideo]")&&(w?n.play().catch(()=>{}):n.pause(),t.set(n,w))},{threshold:.1});for(let e of r)!e.hasAttribute("data-exclude-autovideo")&&!e.closest("[data-exclude-autovideo]")&&(e.autoplay=!1,e.playsInline=!0,t.set(e,null),s.observe(e));let i=c(document,"visibilitychange",()=>{for(let[e,n]of t)!e.hasAttribute("data-exclude-autovideo")&&!e.closest("[data-exclude-autovideo]")&&(document.hidden||!n?e.pause():e.play().catch(()=>{}))});return P(d,t,()=>{s.disconnect(),i()})};p({init:F,version:z,attributeKey:d})})()}gsap.registerPlugin(ScrollTrigger,Flip);var g,A=!1;function _(a,d){let u;return function(...l){let f=this;clearTimeout(u),u=setTimeout(()=>a.apply(f,l),d)}}function B(){for(var a=document.getElementsByTagName("a"),d=window.location.hostname,u=0;u<a.length;u++){var l=a[u],f=l.hostname;f!==d&&l.setAttribute("target","_blank")}}function D(){if(Webflow.env("editor")===void 0){let l=function(c){g.raf(c),requestAnimationFrame(l)};var u=l;g=new Lenis({lerp:.075,wheelMultiplier:.7,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1}),requestAnimationFrame(l)}$("[data-lenis-start]").on("click",function(){g.start()}),$("[data-lenis-stop]").on("click",function(){g.stop()}),$("[data-lenis-toggle]").on("click",function(){$(this).toggleClass("stop-scroll"),$(this).hasClass("stop-scroll")?g.stop():g.start()});let{body:a}=document;new ResizeObserver(()=>{g.resize()}).observe(a);function u(l){g.raf(l),requestAnimationFrame(u)}requestAnimationFrame(u)}function M(){let a=$(".nav"),d=0,u=_(()=>{let l=window.scrollY,f=a.find(".w--open").length>=1;l>d&&l>50&&!A&&!f?gsap.to(a,{y:"-200%",duration:1,ease:"power2.out"}):l<d&&gsap.to(a,{y:"0%",duration:1,ease:"power2.out"}),d=l},1);window.addEventListener("scroll",u)}function O(){function a(){A?(A=!1,g.start()):(A=!0,g.stop())}$('[scroll="toggle"]').on("click",a);let d=[991,767,479],u=window.innerWidth;function l(){let f=window.innerWidth;d.forEach(c=>{A&&(u<=c&&f>c||u>=c&&f<c)&&g.start()}),u=f}window.addEventListener("resize",l)}function G(){let a,d;ScrollTrigger.defaults({anticipatePin:1,ease:"none"});function u(){a&&(a.kill(!0),a=null),d&&(d.kill(!0),d=null),gsap.set("[data-gsap-clearProps]",{clearProps:"all"}),gsap.set("[data-sticky-visual]",{clearProps:"all"}),gsap.set(".pin-spacer",{clearProps:"all"})}function l(){u();let c=$('[data-sticky-visual="animated"]').children();if(!c.length)return;function P(o){let p=$(o),v=p.length;p.each(function(y){$(this).css("z-index",v-y)})}function x(){let v=($(window).height()-c.eq(0).height())/2;$(".sticky-header").css("margin-bottom",`-${v}px`),ScrollTrigger.refresh()}function q(o,p){let v;return function(...S){let E=()=>{clearTimeout(v),o(...S)};clearTimeout(v),v=setTimeout(E,p)}}let C=q(x,250);$(window).on("resize.dynamicGap",C),gsap.set(c,{position:"absolute"}),P(c);let I=gsap.timeline({scrollTrigger:{trigger:".sticky-section_list",start:()=>`${document.querySelector(".sticky-section_list li:first-child").getBoundingClientRect().height/2}px center`,end:()=>{let p=document.querySelector(".sticky-section_list li:last-child").getBoundingClientRect();return`${$(".sticky-section_list").height()-p.height/2}px center`},pin:'[data-sticky-visual="animated"]',scrub:!0,invalidateOnRefresh:!0,onLeave:()=>{let o=c.eq(c.length-1).find("video")[0];k(o)}}});x(),c.each(function(o){let p=o<c.length-1?c.eq(o+1).find("video")[0]:null,v=!1;o!==c.length-1&&I.to($(this),{ease:"none",clipPath:"inset(0px 0px 100%)",onUpdate:function(){this.progress()>=.5&&!v&&(v=!0,k(p))}})});let m=o=>o!==void 0?o.catch(p=>console.warn("Video operation error:",p)):Promise.resolve(),L=()=>{let o=[];return c.find("video").each(function(){o.push(m(this.pause()))}),Promise.all(o)},k=o=>o?m(o.play()):Promise.resolve();return function(){$(window).off("resize.dynamicGap")}}let f;ScrollTrigger.matchMedia({"(min-width: 992px)":function(){f=l()},"(max-width: 991px)":function(){f&&(f(),f=null)}})}$(document).ready(function(){M(),O(),D(),B(),G(),W()});})();
