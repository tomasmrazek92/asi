"use strict";(()=>{gsap.registerPlugin(ScrollTrigger,Flip);var c,u=!1;function L(s,o){let i;return function(...t){let r=this;clearTimeout(i),i=setTimeout(()=>s.apply(r,t),o)}}function T(){for(var s=document.getElementsByTagName("a"),o=window.location.hostname,i=0;i<s.length;i++){var t=s[i],r=t.hostname;r!==o&&t.setAttribute("target","_blank")}}function b(){if(Webflow.env("editor")===void 0){let t=function(n){c.raf(n),requestAnimationFrame(t)};var i=t;c=new Lenis({lerp:.075,wheelMultiplier:.7,gestureOrientation:"vertical",normalizeWheel:!1,smoothTouch:!1}),requestAnimationFrame(t)}$("[data-lenis-start]").on("click",function(){c.start()}),$("[data-lenis-stop]").on("click",function(){c.stop()}),$("[data-lenis-toggle]").on("click",function(){$(this).toggleClass("stop-scroll"),$(this).hasClass("stop-scroll")?c.stop():c.start()});let{body:s}=document;new ResizeObserver(()=>{c.resize()}).observe(s);function i(t){c.raf(t),requestAnimationFrame(i)}requestAnimationFrame(i)}function S(){let s=$(".nav"),o=0,i=L(()=>{let t=window.scrollY,r=s.find(".w--open").length>=1;t>o&&t>50&&!u&&!r?gsap.to(s,{y:"-200%",duration:1,ease:"power2.out"}):t<o&&gsap.to(s,{y:"0%",duration:1,ease:"power2.out"}),o=t},1);window.addEventListener("scroll",i)}function x(){function s(){u?(u=!1,c.start()):(u=!0,c.stop())}$('[scroll="toggle"]').on("click",s);let o=[991,767,479],i=window.innerWidth;function t(){let r=window.innerWidth;o.forEach(n=>{u&&(i<=n&&r>n||i>=n&&r<n)&&c.start()}),i=r}window.addEventListener("resize",t)}function P(){let s,o;ScrollTrigger.defaults({anticipatePin:1,ease:"none"});function i(){s&&(s.kill(!0),s=null),o&&(o.kill(!0),o=null),gsap.set("[data-gsap-clearProps]",{clearProps:"all"}),gsap.set("[data-sticky-visual]",{clearProps:"all"}),gsap.set(".pin-spacer",{clearProps:"all"})}function t(){i();let n=$('[data-sticky-visual="animated"]').children();if(!n.length)return;function h(e){let l=$(e),a=l.length;l.each(function(d){$(this).css("z-index",a-d)})}function f(){let a=($(window).height()-n.eq(0).height())/2;$(".sticky-header").css("margin-bottom",`-${a}px`),ScrollTrigger.refresh()}function m(e,l){let a;return function(...y){let k=()=>{clearTimeout(a),e(...y)};clearTimeout(a),a=setTimeout(k,l)}}let w=m(f,250);$(window).on("resize.dynamicGap",w),gsap.set(n,{position:"absolute"}),h(n);let v=gsap.timeline({scrollTrigger:{trigger:".sticky-section_list",start:()=>`${document.querySelector(".sticky-section_list li:first-child").getBoundingClientRect().height/2}px center`,end:()=>{let l=document.querySelector(".sticky-section_list li:last-child").getBoundingClientRect();return`${$(".sticky-section_list").height()-l.height/2}px center`},pin:'[data-sticky-visual="animated"]',scrub:!0,invalidateOnRefresh:!0,onLeave:()=>{let e=n.eq(n.length-1).find("video")[0];p(e)}}});f(),n.each(function(e){let l=e<n.length-1?n.eq(e+1).find("video")[0]:null,a=!1;e!==n.length-1&&v.to($(this),{ease:"none",clipPath:"inset(0px 0px 100%)",onUpdate:function(){this.progress()>=.5&&!a&&(a=!0,p(l))}})});let g=e=>e!==void 0?e.catch(l=>console.warn("Video operation error:",l)):Promise.resolve(),C=()=>{let e=[];return n.find("video").each(function(){e.push(g(this.pause()))}),Promise.all(e)},p=e=>e?g(e.play()):Promise.resolve();return function(){$(window).off("resize.dynamicGap")}}let r;ScrollTrigger.matchMedia({"(min-width: 992px)":function(){r=t()},"(max-width: 991px)":function(){r&&(r(),r=null)}})}$(document).ready(function(){S(),x(),b(),T(),P()});})();
